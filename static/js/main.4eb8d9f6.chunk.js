(this.webpackJsonpitrex_test=this.webpackJsonpitrex_test||[]).push([[0],{19:function(e,t,r){e.exports={app:"Button_app__3wf4x","col-1":"Button_col-1__tudNx","col-2":"Button_col-2__1xu0V",btn:"Button_btn__wQBy1"}},4:function(e,t,r){e.exports={app:"Pagination_app__Dtc62","col-1":"Pagination_col-1__1qiKz","col-2":"Pagination_col-2__1IUnR",paginationWrapper:"Pagination_paginationWrapper__3tpdD",control:"Pagination_control__2_LnH",active:"Pagination_active__3t72p",disabled:"Pagination_disabled__2uITy"}},40:function(e,t,r){},6:function(e,t,r){e.exports={app:"UsersTable_app__3aN-U","col-1":"UsersTable_col-1__xKNgs","col-2":"UsersTable_col-2__3Be8X",usersTableWrapper:"UsersTable_usersTableWrapper__2kp6G",usersTableControlsWrapper:"UsersTable_usersTableControlsWrapper__HmOC2",filter:"UsersTable_filter__ou3js",usersTableTableWrapper:"UsersTable_usersTableTableWrapper__347f6",odd:"UsersTable_odd__3o_Ip",loading:"UsersTable_loading__2Jd-G"}},68:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),c=r(11),a=r.n(c),o=r(28),i=r(29),l=r(35),u=r(34),d=(r(40),r(13)),p=r(7),j=r(18),b=r.n(j),_=r(31),O=r(3),h=r(32),f=r.n(h),x="SET_USERS",m="SET_CURRENT_USER",v="SET_USERS_TO_SHOW",N="TOGGLE_IS_FETCHING",U={users:[],usersToShow:[],currentUser:null,isFetching:!1},w=function(e){return{type:N,isFetching:e}},T=function(e){return{type:v,users:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.isFetching});case x:return Object(O.a)(Object(O.a)({},e),{},{users:t.users});case v:return Object(O.a)(Object(O.a)({},e),{},{usersToShow:t.users});case m:return Object(O.a)(Object(O.a)({},e),{},{currentUser:t.user});default:return e}},C=r(14),S=r(5),y=r(8),W=r.n(y),k=r(19),I=r.n(k),P=r(0),E=function(e){var t=e.classList?"".concat(I.a.btn," ").concat(e.classList.map((function(e){return e})).join(" ")):I.a.btn;return Object(P.jsxs)("div",{className:t,onClick:e.onClickHandler,children:[e.btnName,e.children]})};var R=function(e){var t,r,s=Object(n.useState)(!1),c=Object(S.a)(s,2),a=c[0],o=c[1],i=Object(n.useRef)(null);return t=i,r=o,Object(n.useEffect)((function(){function e(e){t.current&&!t.current.contains(e.target)&&r(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,r]),Object(P.jsxs)("div",{ref:i,className:W.a.dropdown,children:[Object(P.jsx)(E,{classList:[W.a.dropbtn],onClickHandler:function(){return o(!a)},btnName:e.btnName,children:Object(P.jsx)("span",{children:"\u21b4"})}),Object(P.jsxs)("div",{className:a?"".concat(W.a.dropdownContent," ").concat(W.a.active):W.a.dropdownContent,children:[Object(P.jsx)("div",{onClick:function(){o(!a),e.onClickHandler("All")},children:"All"}),e.content.map((function(t,r){return Object(P.jsx)("div",{onClick:function(){o(!a),e.onClickHandler(t)},children:t},r)}))]})]})},D=r(4),B=r.n(D),A=function(e){var t=Math.ceil(e.data.length/e.itemsPerPage),r=Object(n.useState)(0),s=Object(S.a)(r,2),c=s[0],a=s[1],o=Object(n.useState)(0),i=Object(S.a)(o,2),l=i[0],u=i[1];Object(n.useEffect)((function(){var t=c*e.itemsPerPage,r=t+e.itemsPerPage;e.onPageChange(e.data.slice(t,r))}),[c]);var d=function(t){t+1>e.controlsNumber*(l+1)&&u(l+1),e.controlsNumber>1?0!==t&&t<e.controlsNumber*l&&u(l-1):t<e.controlsNumber*l+1&&u(l-1),a(t)};return Object(P.jsxs)("div",{className:B.a.paginationWrapper,children:[Object(P.jsx)("div",{className:c>0?B.a.control:"".concat(B.a.control," ").concat(B.a.disabled),onClick:function(){c>0&&d(c-1)},children:"\u21e6"}),function(){var r=e.controlsNumber>t?t:e.controlsNumber;return e.controlsNumber<t&&(l+1)*e.controlsNumber>t&&(r=(l+1)*e.controlsNumber-t-1),Object(C.a)(new Array(r)).map((function(t,r){return Object(P.jsx)("div",{onClick:function(){return d(l*e.controlsNumber+r)},className:c===l*e.controlsNumber+r?"".concat(B.a.control," ").concat(B.a.active):B.a.control,children:l*e.controlsNumber+r+1},r)}))}(),Object(P.jsx)("div",{className:c<t-1?B.a.control:"".concat(B.a.control," ").concat(B.a.disabled),onClick:function(){c<t-1&&d(c+1)},children:"\u21e8"})]})},H=r(6),L=r.n(H),F=function(e){var t=Object(n.useState)("id"),r=Object(S.a)(t,2),s=r[0],c=r[1],a=Object(n.useState)(""),o=Object(S.a)(a,2),i=o[0],l=o[1],u=Object(n.useState)("All"),d=Object(S.a)(u,2),p=d[0],j=d[1],b=Object(n.useState)(!0),_=Object(S.a)(b,2),O=_[0],h=_[1],f={id:Object(n.useRef)(null),firstName:Object(n.useRef)(null),lastName:Object(n.useRef)(null),email:Object(n.useRef)(null),phone:Object(n.useRef)(null),state:Object(n.useRef)(null)};return Object(P.jsxs)("div",{className:L.a.usersTableWrapper,children:[Object(P.jsxs)("div",{className:L.a.usersTableControlsWrapper,children:[Object(P.jsxs)("div",{className:L.a.filter,children:[Object(P.jsx)("div",{children:Object(P.jsx)("input",{type:"text",placeholder:"Search by name",value:i,onChange:function(e){return l(e.target.value)}})}),Object(P.jsx)("div",{children:Object(P.jsx)(R,{btnName:"All"!==p?p:"Filter by state",content:Object(C.a)(new Set(e.usersToShow.map((function(e){return e.adress.state})))),onClickHandler:j})})]}),Object(P.jsx)(A,{data:e.users,controlsNumber:3,itemsPerPage:20,onPageChange:e.setUsersToShow})]}),Object(P.jsx)("div",{className:L.a.usersTableTableWrapper,children:Object(P.jsxs)("table",{className:0===e.users.length?L.a.loading:void 0,children:[Object(P.jsx)("thead",{children:Object(P.jsx)("tr",{children:function(){var e={id:"id",firstName:"First name",lastName:"Last name",email:"Email",phone:"Phone",state:"State"};return Object.keys(f).map((function(t){return Object(P.jsxs)("td",{ref:f[t],onClick:function(){s===t&&h(!O),c(t)},children:[e[t]," ",s===t?O?Object(P.jsx)("span",{children:"\u2191"}):Object(P.jsx)("span",{children:"\u2193"}):""]},t)}))}()})}),Object(P.jsx)("tbody",{children:function(){var t=new RegExp(i,"i"),r=e.usersToShow.filter((function(e){return e.firstName.match(t)||e.lastName.match(t)||e.email.match(t)||e.phone.match(t)||e.adress.state.match(t)}));"All"!==p&&(r=r.filter((function(e){return e.adress.state===p})));var n=r.sort((function(e,t){return"state"===s&&(e=e.adress,t=t.adress),e[s]>t[s]?1:e[s]<t[s]?-1:0})).map((function(t,r){return Object(P.jsxs)("tr",{className:r%2===0?L.a.odd:void 0,onClick:function(){return r=t,void e.setCurrentUser(r);var r},children:[Object(P.jsx)("td",{children:t.id}),Object(P.jsx)("td",{children:t.firstName}),Object(P.jsx)("td",{children:t.lastName}),Object(P.jsx)("td",{children:t.email}),Object(P.jsx)("td",{children:t.phone}),Object(P.jsx)("td",{children:t.adress.state})]},t.id+r)}));return O?n:n.reverse()}()})]})})]})},M=r(9),G=r.n(M),K=function(e){var t=e.user,r=e.setCurrentUser;return Object(P.jsxs)("div",{className:G.a.userInfoWrapper,children:[Object(P.jsx)("div",{className:G.a.btnWrapper,children:Object(P.jsx)(E,{classList:[G.a.btn],onClickHandler:function(){return r(null)},children:Object(P.jsx)("span",{children:"\u292c"})})}),Object(P.jsxs)("div",{className:G.a.userInfoProfileWrapper,children:[Object(P.jsxs)("div",{children:["First name",Object(P.jsx)("input",{type:"text",value:t.firstName})]}),Object(P.jsxs)("div",{children:["Last name",Object(P.jsx)("input",{type:"text",value:t.lastName})]}),Object(P.jsxs)("div",{children:["Email",Object(P.jsx)("input",{type:"text",value:t.email})]}),Object(P.jsxs)("div",{children:["Phone",Object(P.jsx)("input",{type:"text",value:t.phone})]})]}),Object(P.jsxs)("div",{className:G.a.userInfoProfileAddressWrapper,children:["Address",Object(P.jsxs)("div",{children:["Street",Object(P.jsx)("input",{type:"text",value:t.adress.streetAddress})]}),Object(P.jsxs)("div",{children:["City",Object(P.jsx)("input",{type:"text",value:t.adress.city})]}),Object(P.jsxs)("div",{children:["State",Object(P.jsx)("input",{type:"text",value:t.adress.state})]}),Object(P.jsxs)("div",{children:["ZIP",Object(P.jsx)("input",{type:"text",value:t.adress.zip})]})]})]})},z=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"render",value:function(){return Object(P.jsxs)("div",{className:"app",children:[Object(P.jsx)("div",{className:"col-1",children:Object(P.jsx)(F,{users:this.props.users,usersToShow:this.props.usersToShow,setUsersToShow:this.props.setUsersToShow,setCurrentUser:this.props.setCurrentUser})}),Object(P.jsx)("div",{className:"col-2",children:this.props.currentUser&&Object(P.jsx)(K,{user:this.props.currentUser,setCurrentUser:this.props.setCurrentUser})})]})}}]),r}(n.Component),J=Object(p.c)(Object(d.b)((function(e){return{users:e.appReducer.users,usersToShow:e.appReducer.usersToShow,currentUser:e.appReducer.currentUser}}),{fetchUsers:function(){return function(){var e=Object(_.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w(!0)),e.next=3,f.a.get("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json");case 3:r=e.sent,t(w(!1)),t((n=r.data,{type:x,users:n})),t(T(r.data.slice(0,20)));case 7:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}()},setUsersToShow:T,setCurrentUser:function(e){return{type:m,user:e}}})(z)),q=r(33),V=Object(p.b)({appReducer:g}),X=Object(p.d)(V,Object(p.a)(q.a));a.a.render(Object(P.jsx)(s.a.StrictMode,{children:Object(P.jsx)(d.a,{store:X,children:Object(P.jsx)(J,{})})}),document.getElementById("root"))},8:function(e,t,r){e.exports={app:"ButtonDropDown_app__2K99s","col-1":"ButtonDropDown_col-1__1vCks","col-2":"ButtonDropDown_col-2__17vw_",dropbtn:"ButtonDropDown_dropbtn__3I_7E",dropdown:"ButtonDropDown_dropdown__1j8B2",dropdownContent:"ButtonDropDown_dropdownContent__gMKkh",active:"ButtonDropDown_active__bMkgq"}},9:function(e,t,r){e.exports={app:"UserInfo_app__3wrwk","col-1":"UserInfo_col-1__1bMoB","col-2":"UserInfo_col-2__11I7x",userInfoWrapper:"UserInfo_userInfoWrapper__2WZVx",btnWrapper:"UserInfo_btnWrapper__2F7kW",btn:"UserInfo_btn__3nMXr",userInfoProfileWrapper:"UserInfo_userInfoProfileWrapper__1tGU1",userInfoProfileAddressWrapper:"UserInfo_userInfoProfileAddressWrapper__3fSd1"}}},[[68,1,2]]]);
//# sourceMappingURL=main.4eb8d9f6.chunk.js.map