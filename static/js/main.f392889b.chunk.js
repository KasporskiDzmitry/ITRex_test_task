(this.webpackJsonpitrex_test=this.webpackJsonpitrex_test||[]).push([[0],{19:function(e,t,r){e.exports={app:"Button_app__3wf4x","col-1":"Button_col-1__tudNx","col-2":"Button_col-2__1xu0V",btn:"Button_btn__wQBy1"}},4:function(e,t,r){e.exports={app:"Pagination_app__Dtc62","col-1":"Pagination_col-1__1qiKz","col-2":"Pagination_col-2__1IUnR",paginationWrapper:"Pagination_paginationWrapper__3tpdD",control:"Pagination_control__2_LnH",active:"Pagination_active__3t72p",disabled:"Pagination_disabled__2uITy"}},40:function(e,t,r){},6:function(e,t,r){e.exports={app:"UsersTable_app__3aN-U","col-1":"UsersTable_col-1__xKNgs","col-2":"UsersTable_col-2__3Be8X",usersTableWrapper:"UsersTable_usersTableWrapper__2kp6G",usersTableControlsWrapper:"UsersTable_usersTableControlsWrapper__HmOC2",filter:"UsersTable_filter__ou3js",usersTableTableWrapper:"UsersTable_usersTableTableWrapper__347f6",odd:"UsersTable_odd__3o_Ip",loading:"UsersTable_loading__2Jd-G"}},68:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),c=r(11),a=r.n(c),o=r(28),i=r(29),u=r(35),l=r(34),d=(r(40),r(13)),p=r(7),j=r(18),b=r.n(j),_=r(31),h=r(2),f=r(32),O=r.n(f),x="SET_USERS",m="SET_CURRENT_USER",v="SET_USERS_TO_SHOW",g="TOGGLE_IS_FETCHING",N="SET_CURRENT_PAGE",U={users:[],usersToShow:[],currentUser:null,currentPage:0,isFetching:!1},T=function(e){return{type:g,isFetching:e}},w=function(e){return{type:x,users:e}},C=function(e){return{type:v,users:e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(h.a)(Object(h.a)({},e),{},{isFetching:t.isFetching});case x:return Object(h.a)(Object(h.a)({},e),{},{users:t.users});case v:return Object(h.a)(Object(h.a)({},e),{},{usersToShow:t.users});case N:return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.page});case m:return Object(h.a)(Object(h.a)({},e),{},{currentUser:t.user});default:return e}},S=r(14),y=r(5),W=r(8),k=r.n(W),I=r(19),E=r.n(I),R=r(0),D=function(e){var t=e.classList?"".concat(E.a.btn," ").concat(e.classList.map((function(e){return e})).join(" ")):E.a.btn;return Object(R.jsxs)("div",{className:t,onClick:e.onClickHandler,children:[e.btnName,e.children]})};var B=function(e){var t,r,s=Object(n.useState)(!1),c=Object(y.a)(s,2),a=c[0],o=c[1],i=Object(n.useRef)(null);return t=i,r=o,Object(n.useEffect)((function(){function e(e){t.current&&!t.current.contains(e.target)&&r(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,r]),Object(R.jsxs)("div",{ref:i,className:k.a.dropdown,children:[Object(R.jsx)(D,{classList:[k.a.dropbtn],onClickHandler:function(){return o(!a)},btnName:e.btnName,children:Object(R.jsx)("span",{children:"\u21b4"})}),Object(R.jsxs)("div",{className:a?"".concat(k.a.dropdownContent," ").concat(k.a.active):k.a.dropdownContent,children:[Object(R.jsx)("div",{onClick:function(){o(!a),e.onClickHandler("All")},children:"All"}),e.content.map((function(t,r){return Object(R.jsx)("div",{onClick:function(){o(!a),e.onClickHandler(t)},children:t},r)}))]})]})},A=r(4),H=r.n(A),L=function(e){var t=Math.ceil(e.data.length/e.itemsPerPage),r=Object(n.useState)(0),s=Object(y.a)(r,2),c=s[0],a=s[1],o=Object(n.useState)(0),i=Object(y.a)(o,2),u=i[0],l=i[1];Object(n.useEffect)((function(){a(e.currentPage),0===e.currentPage&&l(0)}),[e.currentPage]),Object(n.useEffect)((function(){e.onPageChange(c)}),[c]);var d=function(t){t+1>e.controlsNumber*(u+1)&&l(u+1),e.controlsNumber>1?0!==t&&t<e.controlsNumber*u&&l(u-1):t<e.controlsNumber*u+1&&l(u-1),a(t)};return Object(R.jsxs)("div",{className:H.a.paginationWrapper,children:[Object(R.jsx)("div",{className:c>0?H.a.control:"".concat(H.a.control," ").concat(H.a.disabled),onClick:function(){c>0&&d(c-1)},children:"\u21e6"}),function(){var r=e.controlsNumber>t?t:e.controlsNumber;return e.controlsNumber<t&&(u+1)*e.controlsNumber>t&&(r=(u+1)*e.controlsNumber-t-1),Object(S.a)(new Array(r)).map((function(t,r){return Object(R.jsx)("div",{onClick:function(){return d(u*e.controlsNumber+r)},className:c===u*e.controlsNumber+r?"".concat(H.a.control," ").concat(H.a.active):H.a.control,children:u*e.controlsNumber+r+1},r)}))}(),Object(R.jsx)("div",{className:c<t-1?H.a.control:"".concat(H.a.control," ").concat(H.a.disabled),onClick:function(){c<t-1&&d(c+1)},children:"\u21e8"})]})},F=r(6),G=r.n(F),M=function(e){var t=Object(n.useState)("id"),r=Object(y.a)(t,2),s=r[0],c=r[1],a=Object(n.useState)(""),o=Object(y.a)(a,2),i=o[0],u=o[1],l=Object(n.useState)("All"),d=Object(y.a)(l,2),p=d[0],j=d[1],b=Object(n.useState)(!0),_=Object(y.a)(b,2),h=_[0],f=_[1],O={id:Object(n.useRef)(null),firstName:Object(n.useRef)(null),lastName:Object(n.useRef)(null),email:Object(n.useRef)(null),phone:Object(n.useRef)(null),state:Object(n.useRef)(null)};return Object(R.jsxs)("div",{className:G.a.usersTableWrapper,children:[Object(R.jsxs)("div",{className:G.a.usersTableControlsWrapper,children:[Object(R.jsxs)("div",{className:G.a.filter,children:[Object(R.jsx)("div",{children:Object(R.jsx)("input",{type:"text",placeholder:"Search by name",value:i,onChange:function(t){return function(t){u(t);var r=new RegExp(t,"i");e.setUsersToShow(e.users.filter((function(e){return e.firstName.match(r)||e.lastName.match(r)||e.email.match(r)||e.phone.match(r)||e.adress.state.match(r)}))),e.setCurrentPage(0)}(t.target.value)}})}),Object(R.jsx)("div",{children:Object(R.jsx)(B,{btnName:"All"!==p?p:"Filter by state",content:Object(S.a)(new Set(e.users.map((function(e){return e.adress.state})))),onClickHandler:function(t){j(t),"All"!==t?e.setUsersToShow(e.users.filter((function(e){return e.adress.state===t}))):e.setUsersToShow(e.users)}})})]}),Object(R.jsx)(L,{data:""===i&&"All"===p?e.users:e.usersToShow,currentPage:e.currentPage,controlsNumber:3,itemsPerPage:20,onPageChange:e.setCurrentPage})]}),Object(R.jsx)("div",{className:G.a.usersTableTableWrapper,children:Object(R.jsxs)("table",{className:0===e.users.length?G.a.loading:void 0,children:[Object(R.jsx)("thead",{children:Object(R.jsx)("tr",{children:function(){var t={id:"id",firstName:"First name",lastName:"Last name",email:"Email",phone:"Phone",state:"State"};return Object.keys(O).map((function(r){return Object(R.jsxs)("td",{ref:O[r],onClick:function(){f(!h),function(t){c(t);var r=e.users.sort((function(e,r){return"state"===t&&(e=e.adress,r=r.adress),e[t]>r[t]?1:e[t]<r[t]?-1:0}));h?e.setUsersToShow(r.reverse()):e.setUsersToShow(r)}(r)},children:[t[r]," ",s===r?h?Object(R.jsx)("span",{children:"\u2191"}):Object(R.jsx)("span",{children:"\u2193"}):""]},r)}))}()})}),Object(R.jsx)("tbody",{children:e.usersToShow.slice(20*e.currentPage,20*e.currentPage+20).map((function(t,r){return Object(R.jsxs)("tr",{className:r%2===0?G.a.odd:void 0,onClick:function(){return r=t,void e.setCurrentUser(r);var r},children:[Object(R.jsx)("td",{children:t.id}),Object(R.jsx)("td",{children:t.firstName}),Object(R.jsx)("td",{children:t.lastName}),Object(R.jsx)("td",{children:t.email}),Object(R.jsx)("td",{children:t.phone}),Object(R.jsx)("td",{children:t.adress.state})]},t.id+t.phone)}))})]})})]})},K=r(9),z=r.n(K),J=function(e){var t=e.user,r=e.setCurrentUser;return Object(R.jsxs)("div",{className:z.a.userInfoWrapper,children:[Object(R.jsx)("div",{className:z.a.btnWrapper,children:Object(R.jsx)(D,{classList:[z.a.btn],onClickHandler:function(){return r(null)},children:Object(R.jsx)("span",{children:"\u292c"})})}),Object(R.jsxs)("div",{className:z.a.userInfoProfileWrapper,children:[Object(R.jsxs)("div",{children:["First name",Object(R.jsx)("input",{type:"text",value:t.firstName})]}),Object(R.jsxs)("div",{children:["Last name",Object(R.jsx)("input",{type:"text",value:t.lastName})]}),Object(R.jsxs)("div",{children:["Email",Object(R.jsx)("input",{type:"text",value:t.email})]}),Object(R.jsxs)("div",{children:["Phone",Object(R.jsx)("input",{type:"text",value:t.phone})]})]}),Object(R.jsxs)("div",{className:z.a.userInfoProfileAddressWrapper,children:["Address",Object(R.jsxs)("div",{children:["Street",Object(R.jsx)("input",{type:"text",value:t.adress.streetAddress})]}),Object(R.jsxs)("div",{children:["City",Object(R.jsx)("input",{type:"text",value:t.adress.city})]}),Object(R.jsxs)("div",{children:["State",Object(R.jsx)("input",{type:"text",value:t.adress.state})]}),Object(R.jsxs)("div",{children:["ZIP",Object(R.jsx)("input",{type:"text",value:t.adress.zip})]})]})]})},q=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"render",value:function(){return Object(R.jsxs)("div",{className:"app",children:[Object(R.jsx)("div",{className:"col-1",children:Object(R.jsx)(M,{users:this.props.users,usersToShow:this.props.usersToShow,setUsersToShow:this.props.setUsersToShow,setCurrentUser:this.props.setCurrentUser,setCurrentPage:this.props.setCurrentPage,currentPage:this.props.currentPage})}),Object(R.jsx)("div",{className:"col-2",children:this.props.currentUser&&Object(R.jsx)(J,{user:this.props.currentUser,setCurrentUser:this.props.setCurrentUser})})]})}}]),r}(n.Component),V=Object(p.c)(Object(d.b)((function(e){return{users:e.appReducer.users,usersToShow:e.appReducer.usersToShow,currentUser:e.appReducer.currentUser,currentPage:e.appReducer.currentPage}}),{fetchUsers:function(){return function(){var e=Object(_.a)(b.a.mark((function e(t){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(T(!0)),e.next=3,O.a.get("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json");case 3:r=e.sent,n=r.data.sort((function(e,t){return e.id-t.id})),t(T(!1)),t(w(n)),t(C(n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setUsersToShow:C,setCurrentUser:function(e){return{type:m,user:e}},setCurrentPage:function(e){return{type:N,page:e}}})(q)),X=r(33),Z=Object(p.b)({appReducer:P}),Q=Object(p.d)(Z,Object(p.a)(X.a));a.a.render(Object(R.jsx)(s.a.StrictMode,{children:Object(R.jsx)(d.a,{store:Q,children:Object(R.jsx)(V,{})})}),document.getElementById("root"))},8:function(e,t,r){e.exports={app:"ButtonDropDown_app__2K99s","col-1":"ButtonDropDown_col-1__1vCks","col-2":"ButtonDropDown_col-2__17vw_",dropbtn:"ButtonDropDown_dropbtn__3I_7E",dropdown:"ButtonDropDown_dropdown__1j8B2",dropdownContent:"ButtonDropDown_dropdownContent__gMKkh",active:"ButtonDropDown_active__bMkgq"}},9:function(e,t,r){e.exports={app:"UserInfo_app__3wrwk","col-1":"UserInfo_col-1__1bMoB","col-2":"UserInfo_col-2__11I7x",userInfoWrapper:"UserInfo_userInfoWrapper__2WZVx",btnWrapper:"UserInfo_btnWrapper__2F7kW",btn:"UserInfo_btn__3nMXr",userInfoProfileWrapper:"UserInfo_userInfoProfileWrapper__1tGU1",userInfoProfileAddressWrapper:"UserInfo_userInfoProfileAddressWrapper__3fSd1"}}},[[68,1,2]]]);
//# sourceMappingURL=main.f392889b.chunk.js.map